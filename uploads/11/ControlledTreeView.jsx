{"content":"import {TreeView} from '@mui/x-tree-view/TreeView';\nimport Box from '@mui/material/Box';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\nimport { useState, useContext, useEffect } from 'react';\nimport { FileContext } from './MainView'\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport useAuth from '../hooks/useAuth';\nimport FileTree from './FileTree';\nexport default function ControlledTreeView() {\n    const auth = useAuth()\n    const [expanded, setExpanded] = useState([]);\n    const { setSelectedFile } = useContext(FileContext);\n    const { id } = useParams();\n    const [ files, setFiles ] = useState([])\n    const handleFileClick = (file) => {\n      setSelectedFile(file);\n    }\n  \n    const handleToggle = (event, nodeIds) => {\n      setExpanded(nodeIds);\n    };\nhamza\n    useEffect(()=> {\n      const fetchFiles = async () => {\n        try {\n          const response = await axios.get(`https://localhost:8443/api/getFiles/${id}`, {\n            headers: {\n              'Content-Type': 'application/json'\n            },\n          })\n          setFiles(response.data)\n        \n        } catch (error) {\n          console.log(error)\n        }\n    }\n    fetchFiles()\n}, [id])\n  \n    return (\n      <Box sx={{ minHeight: 270, flexGrow: 1, maxWidth: 300 }}>\n      <TreeView \n        aria-label=\"custtomized\"\n        defaultCollapseIcon={<ExpandMoreIcon />}\n        defaultExpandIcon={<ChevronRightIcon />}\n        expanded={expanded}\n        onNodeToggle={handleToggle}\n        multiSelect\n        sx={{overflowX: 'hidden'}}\n      >\n        <FileTree files={files} handleFileClick={handleFileClick}/>\n      </TreeView>\n    </Box>\n    );\n  }"}